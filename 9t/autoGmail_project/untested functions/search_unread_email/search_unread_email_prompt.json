{"stage1_CD": [{"role": "user", "content": "\u8bf7\u5e2e\u6211\u67e5\u4e0b\u6211\u7684\u90ae\u7bb1\u91cc\u662f\u5426\u6709openai\u7684\u672a\u8bfb\u90ae\u4ef6\uff0c\u6709\u7684\u8bdd\u8bf7\u89e3\u8bfb\u4e0b\u8fd9\u5c01\u672a\u8bfb\u90ae\u4ef6\u7684\u5185\u5bb9\u3002"}, {"role": "assistant", "content": "\u5f53\u524d\u9700\u6c42\u4e2d\u53ef\u4ee5\u4f5c\u4e3a\u51fd\u6570\u53c2\u6570\u7684\u662f\uff1a1.\u67e5\u8be2\u7684\u5173\u952e\u8bcd\uff08\"openai\"\uff09\uff1b2.\u67e5\u8be2\u7684\u90ae\u4ef6\u72b6\u6001\uff08\u672a\u8bfb\uff09"}], "stage1_CM": [{"role": "user", "content": "\u8bf7\u5e2e\u6211\u67e5\u4e0b\u6211\u7684\u90ae\u7bb1\u91cc\u662f\u5426\u6709openai\u7684\u672a\u8bfb\u90ae\u4ef6\uff0c\u6709\u7684\u8bdd\u8bf7\u89e3\u8bfb\u4e0b\u8fd9\u5c01\u672a\u8bfb\u90ae\u4ef6\u7684\u5185\u5bb9\u3002\u5f53\u524d\u9700\u6c42\u4e2d\u53ef\u4ee5\u4f5c\u4e3a\u51fd\u6570\u53c2\u6570\u7684\u662f\uff1a1.\u67e5\u8be2\u7684\u5173\u952e\u8bcd\uff08\"openai\"\uff09\uff1b2.\u67e5\u8be2\u7684\u90ae\u4ef6\u72b6\u6001\uff08\u672a\u8bfb\uff09"}, {"role": "assistant", "content": "\u8bf7\u5e2e\u6211\u7f16\u5199\u4e00\u4e2apython\u51fd\u6570\uff0c\u7528\u4e8e\u67e5\u8be2\u6211\u7684Gmail\u90ae\u7bb1\u4e2d\u662f\u5426\u6709\u5173\u952e\u8bcd\u4e3a\"openai\"\u4e14\u72b6\u6001\u4e3a\u672a\u8bfb\u7684\u90ae\u4ef6\uff0c\u5e76\u89e3\u8bfb\u8fd9\u5c01\u672a\u8bfb\u90ae\u4ef6\u7684\u5177\u4f53\u5185\u5bb9\uff0c\u51fd\u6570\u8981\u6c42\u5982\u4e0b\uff1a    \n1. \u51fd\u6570\u53c2\u6570keyword\u548cstatus\uff0c\u4e24\u4e2a\u53c2\u6570\u90fd\u662f\u5b57\u7b26\u4e32\u7c7b\u578b\uff0c\u5176\u4e2dkeyword\u8868\u793a\u67e5\u8be2\u7684\u5173\u952e\u8bcd\uff0cstatus\u8868\u793a\u67e5\u8be2\u7684\u90ae\u4ef6\u72b6\u6001\uff1b     \n2. \u51fd\u6570\u8fd4\u56de\u7ed3\u679c\u662f\u4e00\u4e2a\u5305\u542b\u672a\u8bfb\u90ae\u4ef6\u5185\u5bb9\u7684\u5bf9\u8c61\uff0c\u8fd4\u56de\u7ed3\u679c\u672c\u8eab\u5fc5\u987b\u662f\u4e00\u4e2ajson\u683c\u5f0f\u5bf9\u8c61\uff1b     \n3. \u8bf7\u5c06\u5168\u90e8\u529f\u80fd\u5c01\u88c5\u5728\u4e00\u4e2a\u51fd\u6570\u5185\uff1b     \n4. \u8bf7\u5728\u51fd\u6570\u7f16\u5199\u8fc7\u7a0b\u4e2d\uff0c\u5728\u51fd\u6570\u5185\u90e8\u52a0\u5165\u4e2d\u6587\u7f16\u5199\u7684\u8be6\u7ec6\u7684\u51fd\u6570\u8bf4\u660e\u6587\u6863\uff0c\u7528\u4e8e\u8bf4\u660e\u51fd\u6570\u529f\u80fd\u3001\u51fd\u6570\u53c2\u6570\u60c5\u51b5\u4ee5\u53ca\u51fd\u6570\u8fd4\u56de\u7ed3\u679c\u7b49\u4fe1\u606f\uff1b"}], "stage2": [{"role": "user", "content": "\u8bf7\u5e2e\u6211\u7f16\u5199\u4e00\u4e2apython\u51fd\u6570\uff0c\u7528\u4e8e\u67e5\u8be2\u6211\u7684Gmail\u90ae\u7bb1\u4e2d\u662f\u5426\u6709\u5173\u952e\u8bcd\u4e3a\"openai\"\u4e14\u72b6\u6001\u4e3a\u672a\u8bfb\u7684\u90ae\u4ef6\uff0c\u5e76\u89e3\u8bfb\u8fd9\u5c01\u672a\u8bfb\u90ae\u4ef6\u7684\u5177\u4f53\u5185\u5bb9\uff0c\u51fd\u6570\u8981\u6c42\u5982\u4e0b\uff1a    \n1. \u51fd\u6570\u53c2\u6570keyword\u548cstatus\uff0c\u4e24\u4e2a\u53c2\u6570\u90fd\u662f\u5b57\u7b26\u4e32\u7c7b\u578b\uff0c\u5176\u4e2dkeyword\u8868\u793a\u67e5\u8be2\u7684\u5173\u952e\u8bcd\uff0cstatus\u8868\u793a\u67e5\u8be2\u7684\u90ae\u4ef6\u72b6\u6001\uff1b     \n2. \u51fd\u6570\u8fd4\u56de\u7ed3\u679c\u662f\u4e00\u4e2a\u5305\u542b\u672a\u8bfb\u90ae\u4ef6\u5185\u5bb9\u7684\u5bf9\u8c61\uff0c\u8fd4\u56de\u7ed3\u679c\u672c\u8eab\u5fc5\u987b\u662f\u4e00\u4e2ajson\u683c\u5f0f\u5bf9\u8c61\uff1b     \n3. \u8bf7\u5c06\u5168\u90e8\u529f\u80fd\u5c01\u88c5\u5728\u4e00\u4e2a\u51fd\u6570\u5185\uff1b     \n4. \u8bf7\u5728\u51fd\u6570\u7f16\u5199\u8fc7\u7a0b\u4e2d\uff0c\u5728\u51fd\u6570\u5185\u90e8\u52a0\u5165\u4e2d\u6587\u7f16\u5199\u7684\u8be6\u7ec6\u7684\u51fd\u6570\u8bf4\u660e\u6587\u6863\uff0c\u7528\u4e8e\u8bf4\u660e\u51fd\u6570\u529f\u80fd\u3001\u51fd\u6570\u53c2\u6570\u60c5\u51b5\u4ee5\u53ca\u51fd\u6570\u8fd4\u56de\u7ed3\u679c\u7b49\u4fe1\u606f\uff1b"}, {"role": "assistant", "content": "def search_unread_email(keyword, status):\n    \"\"\"\n    \u67e5\u8be2\u672a\u8bfb\u7684Gmail\u90ae\u7bb1\u4e2d\u5305\u542b\u5173\u952e\u8bcd\u7684\u90ae\u4ef6\n    :param keyword: \u5fc5\u8981\u53c2\u6570\uff0c\u5b57\u7b26\u4e32\u7c7b\u578b\uff0c\u7528\u4e8e\u8868\u793a\u9700\u8981\u67e5\u8be2\u7684\u5173\u952e\u8bcd\uff1b\n    :param status: \u5fc5\u8981\u53c2\u6570\uff0c\u5b57\u7b26\u4e32\u7c7b\u578b\uff0c\u7528\u4e8e\u8868\u793a\u9700\u8981\u67e5\u8be2\u7684\u90ae\u4ef6\u72b6\u6001\uff0c\\\n    \u53ef\u9009\u62e9\u503c\u4e3a'unread'\u8868\u793a\u672a\u8bfb\u90ae\u4ef6\uff0c'read'\u8868\u793a\u5df2\u8bfb\u90ae\u4ef6\uff1b\n    :return: \u5305\u542b\u672a\u8bfb\u90ae\u4ef6\u5185\u5bb9\u7684\u5bf9\u8c61\uff0c\u8be5\u5bf9\u8c61\u7531Gmail API\u521b\u5efa\u5f97\u5230\uff0c\u4e14\u4fdd\u5b58\u4e3aJSON\u683c\u5f0f\n    \"\"\"\n    \n    # \u4ece\u672c\u5730\u6587\u4ef6\u4e2d\u52a0\u8f7d\u51ed\u636e\n    creds = Credentials.from_authorized_user_file('token.json')\n\n    # \u521b\u5efa Gmail API \u5ba2\u6237\u7aef\n    service = build('gmail', 'v1', credentials=creds)\n    \n    # \u7ec4\u5408\u67e5\u8be2\u8bed\u53e5\n    query = f'is:{status} {keyword}'\n\n    # \u67e5\u8be2\u6ee1\u8db3\u6761\u4ef6\u7684\u672a\u8bfb\u90ae\u4ef6\n    results = service.users().messages().list(userId='me', q=query).execute()\n    messages = results.get('messages', [])\n\n    # \u5b58\u50a8\u6240\u6709\u7b26\u5408\u6761\u4ef6\u7684\u90ae\u4ef6\u5185\u5bb9\n    email_contents = []\n\n    # \u904d\u5386\u90ae\u4ef6\n    for message in messages:\n        # \u83b7\u53d6\u90ae\u4ef6\u7684\u8be6\u7ec6\u4fe1\u606f\n        msg = service.users().messages().get(userId='me', id=message['id']).execute()\n        email_contents.append(msg['snippet'])\n\n    return json.dumps(email_contents)"}]}